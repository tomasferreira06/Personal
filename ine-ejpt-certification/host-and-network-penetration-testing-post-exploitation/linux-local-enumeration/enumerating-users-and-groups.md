# Enumerating Users & Groups

After gaining initial access to a target system, it is always important to learn more about the system like, what user accounts you have access to and other user accounts on the system.

#### What are we looking for?

* Current user & privileges
* Other users on the system
* Groups

## Practice Demo

Enumerate the target, exploit vsftpd 2.3.4 service.

We gain a command shell session and upgrade it to a meterpreter session.

## Enumerating User & Group information

### Meterpreter

* <mark style="color:yellow;">getuid</mark>

### Shell Commands

* <mark style="color:yellow;">whoami</mark>

#### Identify what group your user is a part of

* <mark style="color:yellow;">groups 'nameofaccount'</mark>

#### See all users accounts on system

* <mark style="color:yellow;">cat /etc/passwd</mark>
  * To not see service accounts we can filter the cat command like this:
    * <mark style="color:yellow;">cat /etc/passwd | grep -v /nologin</mark>

#### Display list of groups

* <mark style="color:yellow;">groups</mark>

#### Add user to group

* <mark style="color:yellow;">usermod -aG 'grouptoaddto' 'usertoadd'</mark>

#### List of current logged on users

* <mark style="color:yellow;">w</mark> or <mark style="color:yellow;">who if it is installed</mark>

#### List last logged on users

* <mark style="color:yellow;">last</mark>
* <mark style="color:yellow;">lastlog</mark>

