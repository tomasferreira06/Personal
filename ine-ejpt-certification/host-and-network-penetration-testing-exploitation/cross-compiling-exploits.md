---
description: https://gitlab.com/exploit-database/exploitdb-bin-sploits
---

# Cross-Compiling Exploits

* In certain cases, exploit code will be developed in C/C++/C#, as a result, you will need to compile  the exploit code in to a <mark style="color:red;">PE (Portable Executable)</mark> or binary.
* <mark style="color:red;">Cross-Compiling</mark> is the process of compiling code for a platform other than the one performing the compilation.
* As a penetration tester, you will need to have the skills necessary to compile exploit code developed in C.

## Practice Demo

We will be compiling for both Windows and Linux the exploit <mark style="color:red;">Dirty Cow.</mark> To cross-compile we need the tool:

* <mark style="color:red;">Mingw-w64</mark>

To install it on Linux run:

* <mark style="color:yellow;">sudo apt-get install mingw-w64</mark>

#### To compile C code /Linux exploits

* <mark style="color:yellow;">sudo apt-get install gcc</mark>

### Compiling Dirty Cow

Download the C code exploit from the exploit-db website or use <mark style="color:red;">searchsploit:</mark>

* <mark style="color:yellow;">searchsploit VideoLAN VLC SMB</mark>

#### Copy into current directory:

* <mark style="color:yellow;">searchsploit -m 9303</mark>

Well documented exploits  in C will have documentation on how to compile the exploit.

In this case for <mark style="color:red;">Dirty Cow,</mark> it doesn't have any information, so we will need to use the default compilation options.

### Compile for 64-bit systems

* <mark style="color:yellow;">i686-w64-mingw32-gcc 9303.c -o exploit</mark>

### Compile for 32-bit systems

* <mark style="color:yellow;">i686-w64-wingw32-gcc 9303.c -o exploit -lws2\_32</mark>

#### Example of a well documented exploit with compiling instructions

<figure><img src="../../.gitbook/assets/image (113).png" alt=""><figcaption></figcaption></figure>

### Use searchsploit

* <mark style="color:yellow;">searchsploit Dirty Cow</mark>
* <mark style="color:yellow;">searchsploit -m 40839</mark>

We will now use the parameters defined on the documentation

In this case:

* <mark style="color:yellow;">gcc -pthread 40839.c -o exploit -lcrypt</mark>

Very useful resource is the [https://gitlab.com/exploit-database/exploitdb-bin-sploits](https://gitlab.com/exploit-database/exploitdb-bin-sploits)







